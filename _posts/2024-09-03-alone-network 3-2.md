---
title: "[혼공네] 3-2. IP 주소"
tags: [study, alone-network]
author: 상 한규
---
- 네트워크 주소와 호스트 주소
    - 네트워크 주소는 네트워크 ID, 네트워크 식별자라고도 불린다.
    - 호스트 주소는 호스트 ID, 호스트 식별자라고도 불린다.
    - IP 주소에 네트워크 주소와 호스트 주소가 할당되어있다.
    - 할당 비율을 해결하기 위해 IP 주소의 클래스를 이용한다.
<br><br>
- 클래스풀 주소 체계
    - 클래스는 네트워크 크기에 따라 IP 주소를 분류하는 기준이다.
    - 클래스풀 주소 체계는 클래스를 기반으로 IP 주소를 관리하는 주소 체계다. 4옥텟으로 이루어진 주소 중, 맨 앞 네트워크 주소가 0으로 시작하면 1옥텟, 10이면 2옥텟, 110이면 3옥텟이 네트워크 주소가 되며, 나머지는 호스트 주소가 된다. 즉, 0으로 시작하면 이론 상 2의 7제곱 개의 A클래스 네트워크가 존재할 수 있다.
    → 0 ~ 127, 128 ~ 191, 192 ~ 223 등이 앞에 오면 각 클래스를 알 수 있다.
    - 호스트 주소가 모두 0인 경우는 네트워크 주소로, 모두 255인 경우는 브로드캐스트를 위한 주소로 사용된다.
<br><br>
- 클래스리스 주소 체계
    - 클래스풀의 경우 네트워크 크기가 고정되어 있기 때문에 여전히 다수의 IP 주소가 낭비될 가능성이 크다.
    - 그렇기 때문에 보다 유동적이고 정규하게 네트워크를 구성할 수 있는 클래스리스 주소 체계가 등장하였다.
    - 클래스에 구애받지 않고 네트워크 영역을 나누어서 호스트에게 IP 주소 공간을 할당하는 방식이다. 오늘날 주로 사용된다.
    - 서브넷 마스크 - 클래스리스에서 네트워크와 호스트를 구분 짓는 수단. 네트워크 주소는 1, 호스트 주소는 0으로 표기한 비트열이다.
    - 서브네팅 : 서브넷 마스크를 이용하여 클래스를 원하는 크기로 더 잘게 쪼개어 사용하는 것. 비트 AND 연산 사용.
    192.168.219.103 과 255.255.255.0을 연산하면 192.168.219.0이 나온다. 이를 통해 IP 주소 내의 네트워크 주소를 알아낼 수 있다.
    - 서브넷 마스크 표기 : 10진수로 직접 표기와  서브넷 마스크 상 1의 개수 형식으로 표기하는 두 가지 방법이 있다. 이 때 두 번째 방식을 CIDR 표기법이라고 한다. 192.168.219.103/24 등과 같이 뒤에 표기해준다.
<br><br>
- 공인 IP 주소와 사설 IP 주소
    - 공인 IP 주소는 전 세계에서 고유한 IP 주소다. 인터넷 등에서 사용된다. ISP 등의 기관에서 할당 받을 수 있다.
    - 사설 IP 주소는 네트워크에서 사용하기 위한 주소다. 외부 네트워크에 공개되지 않으며 일반적으로 라우터에 할당된다. NAT를 사용하여 호스트가 외부 네트워크와 통신한다. 이를 통해 외부 네트워크 주소와 내부 네트워크 주소를 변환하여 사용 가능하다.
<br><br>
- 정적 IP 주소와 동적 IP 주소
    - 정적 할당은 호스트에 직접 수작업으로 IP 주소를 부여하는 방식이다. 이렇게 할당된 주소를 정적 IP 주소라고 한다. 부여하고자 하는 주소를 입력하면, 호스트는 고정된 주소를 가지게 된다.
    - 동적할당은 IP 주소를 일일이 입력하지 않아도 호스트에 IP 주소가 동적으로 할당되는 방식이다. 이렇게 할당된 주소를 동적 IP 주소라고 한다. 고정적이지 않기 때문에 할당할 때마다 다른 주소를 주게 된다. DHCP 프로토콜을 사용한다.
    - DHCP를 통한 IP 주소 할당은 호스트와 해당 호스트에게 주소를 제공하는 DHCP 서버 간 메시지를 주고받음으로써 이루어진다. 서버의 역할은 일반적으로 라우터가 수행하지만, 특정 호스트가 가능하게 추가할 수 있다. DHCP로 할당받은 주소는 임대 기간이 정해져 있다. 메시지 종류로는 크게 네 가지가 있다.
        
        <aside>
        💡
        
        (DORA) (왜 4단계로 이루어져 있냐면, 클라이언트에 연결된 네트워크에 DHCP 서버가 여러 개일 수도 있기 때문이다. 오퍼가 여러 개 왔을 때 하나만 처리!)
        
        </aside>
        
        1. DHCP Discover
            
            해당 메시지를 통해 DHCP 서버를 찾는다. 브로드캐스트로 전송되며, 아직 주소를 할당 받지 못했기 때문에 주소는 0.0.0.0으로 설정된다.
            
        2. DHCP Offer
            
            클라이언트에게 Discover 메시지를 받으면 해당 메시지를 보낸다. 주소를 제안하는 메시지로, 주소 뿐만 아니라 서브넷 마스크, 임대 기간 등의 정보도 포함되어 있다.
            
        3. DHCP Request
            
            Offer 메시지에 대해 응답한다. 브로드캐스트로 전송되며, 이 주소를 써도 되는지 확인 차 메시지를 전한다.
            
        4. DHCP Acknowledgment
            
            마지막으로 서버가 메시지를 보낸다. 최종 승인을 내리며 임대 기간동안 해당 주소를 사용한다.
            
    - 임대 기간이 끝나기 전에 연장을 하기 위해서 임대 갱신을 한다.
        
        <aside>
        💡
        
        - 임대 갱신은 기본적으로 두 차례 자동으로 수행된다. 50%, 87.5%.
        </aside>
        
    

루프백 주소는 자기 자신을 가리키는 특별한 주소다. 일반적으로는 127.0.0.1이고, 로컬 호스트라고 부른다. 전송한 패킷이 자신에게 돌아오기 때문에 다른 호스트에게 보내는 것 처럼 패킷을 전송할 수 있다.

0.0.0.0/8는 이 네트워크의 이 호스트를 지칭한다.

0.0.0.0/0은 모든 임의의 IP 주소로, 디폴트 라우트를 나타내기 위해 사용된다. 이는 어떤 주소로 전달할지 결정하기 어려운 경우 기본적으로 패킷을 전달할 경로다. 

문제 1. 루프백 주소의 의미를 작성하시오

→ 자기 자신을 가리키는 특별한 주소로, 일반적으로 127.0.0.1이며 로컬호스트라고 부른다. 전송한 패킷이 자신에게 돌아온다.

문제 2. DHCP 메시지 종류를 통신 순서대로 나열하시오.
DHCP Offer, Acknowledgment, Discover, Request

→ Discover, Offer, Request, Acknowledgment