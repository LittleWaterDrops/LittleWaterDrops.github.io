---
title: "[혼공네] 3-3. 라우팅"
tags: [study, alone-network]
author: 상 한규
---
라우터와 L3 스위치는 네트워크 계층의 핵심 장치이다. 하지만 두 장치가 기능상 상당 부분 유사하므로 엄밀히 구분하지 않는 경우가 많다.

패킷이 목적지까지 도달할 때 까지 라우터를 거쳐가는데, 이를 점프하듯이 건너는 것으로 표현하여 ‘홉’이라고 표현한다. 

라우팅 테이블은 특정 수신지까지 도달하기 위한 정보를 명시한 일종의 표와 같은 정보다. 라우터는 이를 참고하여 수신지까지의 도달 경로를 판단한다.

- 라우팅 테이블의 핵심 정보
    - 수신지 IP 주소와 서브넷 마스크 : 패킷의 최종 전달 대상
    - 다음 홉 : 거쳐야 할 호스트의 IP 주소나 인터페이스. 게이트웨이라고 명시되기도 함.
    - 네트워크 인터페이스 : 패킷을 내보낼 통로
    - 메트릭 : 경로는 이용하는 데에 드는 비용
<br><br>
- 디폴트 라우트 : 라우팅 테이블에 없는 경로로 패킷을 전송해야 할 때 사용하는 기본 경로로, 0.0.0.0/0 이다.
<br><br>
- 정적 라우팅 : 사용자가 수동으로 채워 넣은 라우팅 테이블을 토대로 라우팅되는 방식
- 동적 라우팅 : 자동으로 라우팅 테이블 항목을 만들고, 이를 이용하는 라우팅 방식. 네트워크 경로 상 문제 발생 시 우회 경로가 자동으로 갱신됨. 라우팅 프로토콜  사용
<br><br>
- AS(Autonomous System) : 한 회사나 단체에서 관리하는 라우터 집단 AS 내에는 다수의 라우터가 있으며, AS 외부와 통신할 경우 AS 경계에서 통신을 주고받을 수 있는 AS 경계 라우터를 이용한다.
→ 인터넷을 구성하는 큰 네트워크다!
<br><br>
- 라우터 프로토콜 : 패킷이 이동할 최적의 경로를 찾기 위한 프로토콜
    - IGP(Interior Gateway Protocol) : AS 내부에서 수행
        - RIP(Routing Information Protocol) : 거리 벡터 기반 라우팅 프로토콜. 최적 경로를 거리 벡터 사용하여 선정. 패킷이 경유한 라우터의 수, 즉 홉의  수를 거리라고 표현.
        인접한 라우터끼리 경로 정보를 주기적으로 교환하며 라우팅 테이블 갱신. 이를 통해 목적지까지 홉의 수를 계산.
        - OSPF(Open Shortest Path First) : 링크 상태 라우팅 프로토콜. 최적 경로를 링크 상태 이용하여 선정. 링크 정보를 비롯한 현재 네트워크의 상태를 그래프의 형태로 링크 상태 데이터베이스에 저장. 최적의 경로를 결정하기 위해 대역폭을 기반으로 매트릭을 계산. 대역폭이 높을수록 매트릭이 낮음. 네트워크 규모가 커졌을 때를 대비하여 AS를 에어리어 단위로 나누고 링크 상태를 공유한다. 경계에 ABR 라우터를 두어 에어리어 간을 연결한다.
    - EGP(Exterior Gateway Protocol) : AS 외부에서 수행
        - BGP(Border Gateway Protocol) : AS 간의 통신이 가능하며, AS 내의 라우터 간 통신도 가능한 프로토콜. 각각 eBGP, iBGP로 불린다.
            - 피어 : BGP 메시지를 주고받을 수 있도록 연결된 BGP 라우터
            - BGP 속성
                1. AS-PATH - 메시지가 수신지에 이르는 과정에서 통과하는 AS 목록. → BGP는 AS 간 라우팅을 할 때 거치게 될 라우터의 수가 아닌 AS의 수를 고려한다. 또한 BGP는 RIP처럼 단순히 수신지에 이르는 거리가 아닌, 메시지가 어디를 거쳐 이동하는지 나타내는 경로를 고려한다. (경로 벡터 라우팅 프로토콜의 성질)
                2. NEXT-HOP - 홉, 즉 다음으로 거칠 라우터의 IP 주소를 나타낸다.
                3. LOCAL-PREF - AS 외부 경로에 있어 AS 내부에서 어떤 경로를 선호할 지에 대한 척도를 나타낸다. 해당 값은 다른 두 값에 비해 일반적으로 높은 우선순위를 가진다. 또한 이 값은 정책의 영향을 받는다.

문제 1. AS(Automonous System)에 대하여 설명하시오.

→ 인터넷을 구성하는 큰 네트워크다. 한 회사나 단체에서 관리하는 라우터 집단 AS 내에는 다수의 라우터가 있으며, AS 외부와 통신할 경우 AS 경계에서 통신을 주고받을 수 있는 AS 경계 라우터를 이용한다.
(키워드 : 인터넷, 구성, 네트워크)